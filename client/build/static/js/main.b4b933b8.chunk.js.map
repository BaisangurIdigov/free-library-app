{"version":3,"sources":["redux/features/application.js","components/AutorizationPages/SigninPage.jsx","components/AutorizationPages/SignupPage.jsx","redux/features/users.js","components/profile/Profile.jsx","redux/features/book.js","components/pages/MyBooks.jsx","components/pages/HomePage.jsx","components/modal/ModalBookCreate.jsx","components/pages/SearchInput.jsx","components/pages/HomeSearch.jsx","components/Layout.jsx","components/pages/RentedBooks.jsx","redux/features/review.js","redux/features/rating.js","components/pages/BookDirectory/BookCard.jsx","components/pages/BookDirectory/BookRating.jsx","components/pages/BookDirectory/BookReviews.jsx","components/pages/BookDirectory/Book.jsx","components/App.jsx","redux/configureStore.js","index.js","components/pages/style.module.css"],"names":["initialState","signingUp","signingIn","error","token","localStorage","getItem","auth","login","password","dispatch","a","type","fetch","method","body","JSON","stringify","headers","response","json","payload","setItem","Alert","props","elevation","variant","useStyles","makeStyles","theme","root","margin","spacing","display","justifyContent","signupUp","position","top","textAlign","padding","input","left","withoutLabel","marginTop","textField","width","mTop","marginBottom","SigninPage","prop","classes","useDispatch","useState","setLogin","showPassword","setPassword","useSelector","state","application","style","className","Paper","severity","Box","TextField","label","id","clsx","value","onChange","e","target","FormControl","InputLabel","htmlFor","OutlinedInput","event","endAdornment","InputAdornment","IconButton","onClick","onMouseDown","preventDefault","edge","Visibility","VisibilityOff","labelWidth","Button","color","disableElevation","to","SignupPage","createUser","loading","items","fetchUsersId","getState","Authorization","toString","profileCard","height","marginLeft","marginRight","borderRadius","large","profileItems","profileBox","userName","userWallet","bottom","right","usermail","userphone","sum","Profile","users","useEffect","Avatar","src","img","mail","phone","wallet","addingToRend","returning","removing","currentItem","content","cardMedia","gridItem","divider","MyBooks","myBooks","open","setOpen","books","filter","item","name","toLowerCase","indexOf","console","log","handleDeleteBook","removeBooks","paddingLeft","CircularProgress","map","align","card","card__image","alt","card__overlay","card__header","card__arc","xmlns","card__thumb","card__title","card__status","card__description","description","_id","textDecoration","themes","buttonAdd","fontSize","buttonAd","HomePage","values","userId","handleAddRendBook","addRendBook","user","rating","rend","userRend","disabled","useStyle","modal","background","transform","zIndex","button","buttons","ModalBookCreate","opened","setOpened","setName","setImg","price","setPrice","setDescription","multiline","rows","createBook","alignItems","flex","iconButton","SearchInput","setMyBooks","component","InputBase","placeholder","inputProps","Typography","noWrap","HomeSearch","setBooks","drawerWidth","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","easeOut","enteringScreen","menuButton","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","flexGrow","contentShift","Layout","children","useTheme","React","CssBaseline","AppBar","backgroundColor","Toolbar","Drawer","anchor","paper","direction","Divider","List","ListItem","text","ListItemIcon","ListItemText","primary","removeItem","RentedBooks","handleReturningABook","returningABook","sizeImg","BookCard","getRatingByBookId","length","reduce","number","mb","borderColor","Rating","precision","emptyIcon","ratingValue","BookRating","useParams","setValue","postRatings","BookReviews","comment","setComment","postReviews","comments","avatar","Book","reviews","review","fetchBookById","fetchReviews","fetchRatings","App","path","exact","store","createStore","combineReducers","action","composeWithDevTools","applyMiddleware","thunk","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b4b933b8.chunk.js","sourcesContent":["const initialState = {\r\n  signingUp: false,\r\n  signingIn: false,\r\n  error: null,\r\n  token: localStorage.getItem(\"token\"),\r\n};\r\n\r\nexport default function application(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"logout\":\r\n      return {\r\n        ...state,\r\n        token: null\r\n      }\r\n    case \"application/signup/pending\":\r\n      return {\r\n        ...state,\r\n        signingUp: true,\r\n        error: null,\r\n      };\r\n    case \"application/signup/fulfilled\":\r\n      return {\r\n        ...state,\r\n        signingUp: false,\r\n      };\r\n    case \"application/signup/rejected\":\r\n      return {\r\n        ...state,\r\n        signingUp: false,\r\n        error: action.error,\r\n      };\r\n    case \"application/signin/pending\":\r\n      return {\r\n        ...state,\r\n        signingIn: true,\r\n        error: null,\r\n      };\r\n    case \"application/signin/fulfilled\":\r\n      return {\r\n        ...state,\r\n        signingIn: false,\r\n        token: action.payload.token,\r\n      };\r\n    case \"application/signin/rejected\":\r\n      return {\r\n        ...state,\r\n        signingIn: false,\r\n        error: action.error,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const createUser = (login, password) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"application/signup/pending\" });\r\n\r\n    const response = await fetch(\"/users\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ login, password }),\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    const json = await response.json();\r\n\r\n    if (json.error) {\r\n      dispatch({ type: \"application/signup/rejected\", error: json.error });\r\n    } else {\r\n      dispatch({ type: \"application/signup/fulfilled\", payload: json });\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = (login, password) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"application/signin/pending\" });\r\n\r\n    const response = await fetch(\"/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ login, password }),\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    });\r\n    const json = await response.json();\r\n\r\n    if (json.error) {\r\n      dispatch({ type: \"application/signin/rejected\", error: json.error });\r\n    } else {\r\n      dispatch({ type: \"application/signin/fulfilled\", payload: json });\r\n\r\n      localStorage.setItem(\"token\", json.token);\r\n    }\r\n  };\r\n};\r\n\r\nexport const exit = () => {\r\n  localStorage.removeItem(\"token\");\r\n  return {\r\n    type: \"logout\",\r\n  };\r\n};\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { auth } from \"../../redux/features/application\";\r\nimport clsx from \"clsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  display: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  signupUp: {\r\n    position: \"absolute\",\r\n    top: 200,\r\n    textAlign: \"center\",\r\n    padding: 50,\r\n  },\r\n  input: {\r\n    left: 20,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  withoutLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  textField: {\r\n    width: \"25ch\",\r\n  },\r\n  mTop: {\r\n    marginTop: 50,\r\n    marginBottom: 50,\r\n  },\r\n}));\r\n\r\nexport default function SigninPage() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState({\r\n    password: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  const signingIn = useSelector((state) => state.application.signingIn);\r\n  const error = useSelector((state) => state.application.error);\r\n\r\n  const handleClickShowPassword = () => {\r\n    setPassword({ ...password, showPassword: !password.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  const handleChangeLogin = (e) => {\r\n    setLogin(e.target.value);\r\n  };\r\n  const handleChangePassword = (prop) => (event) => {\r\n    setPassword({ ...password, [prop]: event.target.value });\r\n  };\r\n  const handleSubmit = () => {\r\n    dispatch(auth(login, password.password));\r\n  };\r\n  return (\r\n    <div\r\n      style={{ width: \"auto\", position: \"relative\" }}\r\n      className={classes.display}\r\n    >\r\n      <Paper elevation={5} className={classes.signupUp}>\r\n        {error ? <Alert severity=\"error\">{error}</Alert> : \"\"}\r\n\r\n        <h1>Вход</h1>\r\n        <Box>\r\n          <TextField\r\n            label=\"Login\"\r\n            id=\"outlined-start-adornment\"\r\n            className={clsx(classes.margin, classes.textField)}\r\n            variant=\"outlined\"\r\n            value={login}\r\n            onChange={handleChangeLogin}\r\n          />\r\n          <FormControl\r\n            className={clsx(classes.margin, classes.textField)}\r\n            variant=\"outlined\"\r\n          >\r\n            <InputLabel htmlFor=\"outlined-adornment-password\">\r\n              Password\r\n            </InputLabel>\r\n            <OutlinedInput\r\n              id=\"outlined-adornment-password\"\r\n              type={password.showPassword ? \"text\" : \"password\"}\r\n              value={password.password}\r\n              onChange={handleChangePassword(\"password\")}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                    edge=\"end\"\r\n                  >\r\n                    {password.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n              labelWidth={70}\r\n            />\r\n          </FormControl>\r\n        </Box>\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            onClick={handleSubmit}\r\n            className={classes.mTop}\r\n          >\r\n            Войти\r\n          </Button>\r\n        </Box>\r\n        <Box>\r\n          <NavLink to={\"/singup\"}>Хотите зарегаться?</NavLink>\r\n        </Box>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createUser } from \"../../redux/features/application\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport clsx from \"clsx\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  display: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  signupUp: {\r\n    position: \"absolute\",\r\n    top: 200,\r\n    textAlign: \"center\",\r\n    padding: 50,\r\n  },\r\n  input: {\r\n    left: 20,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  withoutLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  textField: {\r\n    width: \"25ch\",\r\n  },\r\n  mTop: {\r\n    marginTop: 50,\r\n    marginBottom: 50,\r\n  },\r\n}));\r\n\r\nexport default function SignupPage() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState({\r\n    password: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  const signingUp = useSelector((state) => state.application.signingUp);\r\n  const error = useSelector((state) => state.application.error);\r\n\r\n  const handleClickShowPassword = () => {\r\n    setPassword({ ...password, showPassword: !password.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleChangeLogin = (e) => {\r\n    setLogin(e.target.value);\r\n  };\r\n  const handleChangePassword = (prop) => (event) => {\r\n    setPassword({ ...password, [prop]: event.target.value });\r\n  };\r\n  const handleSubmit = () => {\r\n    dispatch(createUser(login, password));\r\n  };\r\n  return (\r\n    <div\r\n      style={{ width: \"auto\", position: \"relative\" }}\r\n      className={classes.display}\r\n    >\r\n      <Paper elevation={5} className={classes.signupUp}>\r\n        {error ? <Alert severity=\"error\">{error}</Alert> : \"\"}\r\n        <h1>Регистрация</h1>\r\n        <Box>\r\n          <TextField\r\n            label=\"Login\"\r\n            id=\"outlined-start-adornment\"\r\n            className={clsx(classes.margin, classes.textField)}\r\n            variant=\"outlined\"\r\n            onChange={handleChangeLogin}\r\n          />\r\n          <FormControl\r\n            className={clsx(classes.margin, classes.textField)}\r\n            variant=\"outlined\"\r\n          >\r\n            <InputLabel htmlFor=\"outlined-adornment-password\">\r\n              Password\r\n            </InputLabel>\r\n            <OutlinedInput\r\n              id=\"outlined-adornment-password\"\r\n              type={password.showPassword ? \"text\" : \"password\"}\r\n              value={password.password}\r\n              onChange={handleChangePassword(\"password\")}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                    edge=\"end\"\r\n                  >\r\n                    {password.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n              labelWidth={70}\r\n            />\r\n          </FormControl>\r\n        </Box>\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            onClick={handleSubmit}\r\n            className={classes.mTop}\r\n          >\r\n            Зарегистрировать\r\n          </Button>\r\n        </Box>\r\n        <Box>\r\n          <NavLink to={\"/signin\"}>Хотите войти?</NavLink>\r\n        </Box>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","const initialState = {\r\n  loading: true,\r\n  items: [],\r\n  token: localStorage.getItem(\"token\"),\r\n};\r\nexport default function users(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"todos/users/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"todos/users/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload,\r\n      };\r\n    case \"todos/users/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n      };\r\n\r\n    case \"load/user/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"load/user/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload,\r\n      };\r\n    case \"load/user/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n      };\r\n\r\n    default:\r\n  }\r\n  return state;\r\n}\r\n\r\nexport const fetchUsers = () => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"todos/users/pending\" });\r\n    try {\r\n      const response = await fetch(\"/users\", {});\r\n      const json = await response.json();\r\n\r\n      dispatch({ type: \"todos/users/fulfilled\", payload: json });\r\n    } catch (e) {\r\n      return dispatch({ type: \"todos/users/rejected\" + e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchUsersId = () => {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n    dispatch({ type: \"load/user/pending\" });\r\n    try {\r\n      const response = await fetch(\"/users\", {\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      dispatch({ type: \"load/user/fulfilled\", payload: json });\r\n    } catch (e) {\r\n      return dispatch({ type: \"load/user/rejected\" + e.toString() });\r\n    }\r\n  };\r\n};\r\n","import { Avatar, Box, Button, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { fetchUsersId } from \"../../redux/features/users\";\r\nimport { auth } from '../../redux/features/application';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  profileCard: {\r\n    position: 'relative',\r\n    width: 600,\r\n    height: 370,\r\n    marginLeft: \"30%\",\r\n    marginRight: \"30%\",\r\n    padding: 30,\r\n    borderRadius: 30,\r\n    left:-50,\r\n    top:130\r\n  },\r\n  large: {\r\n    width: theme.spacing(30),\r\n    height: theme.spacing(30),\r\n  },\r\n  profileItems: {\r\n\r\n  },\r\n  profileBox: {\r\n    display: \"flex\",\r\n  },\r\n  userName: {\r\n    position: 'absolute',\r\n    left: 350,\r\n    top: 40\r\n  },\r\n  userWallet: {\r\n    position: 'absolute',\r\n    bottom:10,\r\n    right: 410\r\n  },\r\n  usermail: {\r\n    position: 'absolute',\r\n    left: 350,\r\n    bottom: 200\r\n  },\r\n  userphone: {\r\n    position: 'absolute',\r\n    left: 350,\r\n    bottom: 150\r\n  },\r\n  sum: {\r\n    position: 'absolute',\r\n    left: 350,\r\n    bottom: 10\r\n\r\n  }\r\n}));\r\n\r\nfunction Profile() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const users = useSelector(state => state.users.items)\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsersId());\r\n  }, [dispatch]);\r\n\r\n  if (auth){\r\n    return (\r\n      <Paper\r\n        className={classes.profileCard}\r\n        style={{ marginTop: 50 }}\r\n        elevation={3}\r\n      >\r\n        <Box className={classes.profileItems}>\r\n          <Box className={classes.profileBox}>\r\n            <Box>\r\n              <Avatar src={users.img} className={classes.large} />\r\n            </Box>\r\n          </Box>\r\n          <Box>\r\n            <div className={classes.userName}>\r\n              <h1>{users.login}</h1>\r\n            </div>\r\n            <div className={classes.usermail}>\r\n              <h6>Mail: {\" \"}{users.mail}</h6>\r\n            </div>\r\n            <div className={classes.userphone}>\r\n              <h6>Phone: {\" \"}{users.phone}</h6>\r\n            </div>\r\n            <hr/>\r\n            <div className={classes.userWallet}>\r\n            <h1>${' '}{users.wallet}</h1>\r\n              <Button  className={classes.sum}>\r\n                Пополнть счет\r\n              </Button>\r\n          </div>\r\n          </Box>\r\n          <Box>\r\n            {/*<Button variant=\"contained\" color=\"primary\">*/}\r\n            {/*  Edit Profile*/}\r\n            {/*</Button>*/}\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n\r\n        </Box>\r\n      </Paper>\r\n    );\r\n  }\r\n  }\r\n\r\n\r\nexport default Profile;\r\n","const initialState = {\r\n  loading: false,\r\n  addingToRend: false,\r\n  returning: false,\r\n  removing: false,\r\n  items: [],\r\n  currentItem: [],\r\n  error: null,\r\n};\r\nexport default function books(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"remove/book/pending\":\r\n      return {\r\n        ...state,\r\n        removing: true,\r\n      };\r\n    case \"remove/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        removing: false,\r\n        items: state.items.filter((item) => item._id !== action.payload)\r\n      };\r\n    case \"remove/book/rejected\":\r\n      return {\r\n        ...state,\r\n        removing: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n    case \"byId/book/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"byId/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentItem: action.payload,\r\n      };\r\n    case \"byId/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentItem: [],\r\n        error: action.error,\r\n      };\r\n\r\n    case \"create/book/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"create/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [...state.items, action.payload],\r\n      };\r\n    case \"create/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n    case \"all/book/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"all/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload,\r\n      };\r\n    case \"all/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n    case \"todos/book/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"todos/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload,\r\n      };\r\n    case \"todos/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n\r\n    case \"rend/book/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"rend/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload,\r\n      };\r\n    case \"rend/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n\r\n    case \"add/rend/book/pending\":\r\n      return {\r\n        ...state,\r\n        addingToRend: true,\r\n      };\r\n    case \"add/rend/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        addingToRend: false,\r\n        items: state.items.map((item) => {\r\n          if (item._id === action.payload._id) {\r\n            return {\r\n              ...item,\r\n              rend: action.payload.rend,\r\n            };\r\n          }\r\n          return item;\r\n        }),\r\n      };\r\n    case \"add/rend/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n\r\n    case \"return/rend/book/pending\":\r\n      return {\r\n        ...state,\r\n        returning: true,\r\n      };\r\n    case \"return/rend/book/fulfilled\":\r\n      return {\r\n        ...state,\r\n        returning: false,\r\n        items: state.items.filter((item) => item._id !== action.payload._id),\r\n      };\r\n    case \"return/rend/book/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      };\r\n    default:\r\n  }\r\n  return state;\r\n}\r\n\r\nexport const removeBooks = (id) => {\r\n  return async (dispatch, useState) => {\r\n    const state = useState();\r\n    dispatch({ type: \"remove/book/pending\" });\r\n    try {\r\n      const response = await fetch(`/books/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"remove/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"remove/book/fulfilled\", payload: id });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"remove/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBooks = () => {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n\r\n    dispatch({ type: \"todos/book/pending\" });\r\n    try {\r\n      const response = await fetch(\"/books\", {\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"todos/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"todos/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"todos/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBook = () => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"all/book/pending\" });\r\n    try {\r\n      const response = await fetch(\"/book\");\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"all/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"all/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"all/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const createBook = ({ name, img, description, price }) => {\r\n  return async (dispatch, useState) => {\r\n    const state = useState();\r\n    dispatch({ type: \"create/book/pending\" });\r\n    try {\r\n      await fetch(\"/books\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ name, img, description, price }),\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      dispatch({\r\n        type: \"create/book/fulfilled\",\r\n        payload: { name, img, description, price },\r\n      });\r\n    } catch (e) {\r\n      dispatch({ type: \"create/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBookById = ({ id }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"byId/book/pending\" });\r\n\r\n    try {\r\n      const response = await fetch(`/book/${id}`);\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"byId/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"byId/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"byId/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBookRend = () => {\r\n  return async (dispatch, useState) => {\r\n    const state = useState();\r\n\r\n    dispatch({ type: \"rend/book/pending\" });\r\n    try {\r\n      const response = await fetch(\"/books/rend\", {\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"rend/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"rend/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"rend/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addRendBook = (id) => {\r\n  return async (dispatch, useState) => {\r\n    const state = useState();\r\n    dispatch({ type: \"add/rend/book/pending\" });\r\n    try {\r\n      const response = await fetch(`/books/${id}/rend`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"add/rend/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"add/rend/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"add/rend/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n\r\nexport const returningABook = (id) => {\r\n  return async (dispatch, useState) => {\r\n    const state = useState();\r\n    dispatch({ type: \"return/rend/book/pending\" });\r\n    try {\r\n      const response = await fetch(`/rend/books/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"return/rend/book/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"return/rend/book/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"return/rend/book/rejected\", error: e.toString() });\r\n    }\r\n  };\r\n};\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport React, { useEffect, useState } from 'react'\r\nimport { fetchBooks, removeBooks } from '../../redux/features/book'\r\nimport { Box, Button, CircularProgress, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport style from \"./style.module.css\";\r\nimport { fetchUsersId } from \"../../redux/features/users\";\r\nimport { auth } from \"../../redux/features/application\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    width: \"70%\",\r\n    height: \"auto\",\r\n    marginTop: 50,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n  cardMedia: {\r\n    width: 145,\r\n    height: 200,\r\n  },\r\n  gridItem: {\r\n    width: 200,\r\n    height: 300,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function MyBooks({ myBooks }) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false)\r\n  const loading = useSelector((state) => state.books.loading);\r\n  const books = useSelector((state) => {\r\n    return state.books.items.filter(\r\n      (item) => item.name.toLowerCase().indexOf(myBooks.toLowerCase()) !== -1\r\n    );\r\n  });\r\n  console.log(books);\r\n  const error = useSelector((state) => state.books.error);\r\n  const users = useSelector((state) => state.users.items);\r\n  const removing = useSelector((state)=> state.books.removing)\r\n\r\n  const handleDeleteBook =(id)=> {\r\n    dispatch(removeBooks(id))\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBooks());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsersId());\r\n  }, [dispatch]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ paddingLeft: \"50%\", marginTop: 100 }}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  if (auth) {\r\n    return (\r\n      <Box className={classes.content}>\r\n        <Box className=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4\">\r\n          {books.map((item) => {\r\n            return (\r\n              <Box className=\"col\" align=\"center\">\r\n                <Box>\r\n                  <Paper elevation={20} className={style.card}>\r\n                    <img src={item.img} className={style.card__image} alt=\"\" />\r\n                    <div className={style.card__overlay}>\r\n                      <div className={style.card__header}>\r\n                        <svg\r\n                          className={style.card__arc}\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path />\r\n                        </svg>\r\n                        <img\r\n                          className={style.card__thumb}\r\n                          src={users.img}\r\n                          alt=\"\"\r\n                        />\r\n\r\n                        <h3 className={style.card__title}>{users.login}</h3>\r\n                        <span className={style.card__status}>{item.name}</span>\r\n                      </div>\r\n                      <p className={style.card__description}>\r\n                        {item.description}\r\n                      </p>\r\n                      {open ? (\r\n                        <>\r\n                          <Box>Удалить?</Box>\r\n                          <Button variant=\"contained\"\r\n                                  style={{ marginBottom: 5 }}\r\n                                  onClick={()=>setOpen(false)}>\r\n                            отмена\r\n                          </Button>\r\n                          <Button variant=\"contained\"\r\n                                  color=\"secondary\"\r\n                                  style={{ marginBottom: 5 }}\r\n                                  onClick={()=>handleDeleteBook(item._id)}\r\n                            >\r\n                            удалить\r\n                          </Button>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <NavLink\r\n                            style={{ textDecoration: \"none\" }}\r\n                            to={`/book/${item._id}`}\r\n                          >\r\n                            <Button variant=\"contained\" style={{ marginBottom: 5 }}>\r\n                              Открыть\r\n                            </Button>\r\n                          </NavLink>\r\n                          <IconButton\r\n                            aria-label=\"delete\"\r\n                            className={classes.margin}\r\n                            onClick={()=>setOpen(true)}\r\n                          >\r\n                            <DeleteIcon />\r\n                          </IconButton>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </Paper>\r\n                </Box>\r\n              </Box>\r\n            );\r\n          })}\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addRendBook, fetchBook } from \"../../redux/features/book\";\r\nimport style from \"./style.module.css\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Button, CircularProgress, Icon, Paper } from '@material-ui/core'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { fetchUsersId } from \"../../redux/features/users\";\r\nimport ContactsIcon from '@material-ui/icons/ImportContacts'\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles((themes) => ({\r\n  content: {\r\n    width: \"70%\",\r\n    height: \"auto\",\r\n    marginTop: 100,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n  buttonAdd: {\r\n    color: \"green\",\r\n    fontSize: 24,\r\n    marginLeft: 25,\r\n  },\r\n  buttonAd: {\r\n    color: \"red\",\r\n    fontSize: 24,\r\n    marginLeft: 25,\r\n  }\r\n}));\r\n\r\nexport default function HomePage({ values }) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector((state) => state.books.loading);\r\n  const addingToRend = useSelector((state) => state.books.addingToRend);\r\n  const books = useSelector((state) => {\r\n    return state.books.items.filter(\r\n      (item) => item.name.toLowerCase().indexOf(values.toLowerCase()) !== -1\r\n    );\r\n  });\r\n  const error = useSelector((state) => state.books.error);\r\n  const userId = useSelector((state) => state.users.items._id);\r\n\r\n  const handleAddRendBook = (id) => {\r\n    dispatch(addRendBook(id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBook());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsersId());\r\n  }, [dispatch]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ paddingLeft: \"50%\", marginTop: 100 }}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <Box className={classes.content}>\r\n      <Box className=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4\">\r\n        {books.map((item) => {\r\n          return (\r\n            <Box className=\"col\" align=\"center\">\r\n              <Paper className={style.card} elevation={20}>\r\n                <img src={item.img} className={style.card__image} alt=\"\" />\r\n                <div className={style.card__overlay}>\r\n                  <div className={style.card__header}>\r\n                    <svg\r\n                      className={style.card__arc}\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path />\r\n                    </svg>\r\n                    <img\r\n                      className={style.card__thumb}\r\n                      src={item.user.img}\r\n                      alt=\"\"\r\n                    />\r\n                    <h3 className={style.card__title}>{item.user.login}</h3>\r\n                    <span className={style.card__status}>{item.name}</span>\r\n                  </div>\r\n                  <p className={style.card__description}>{item.description}</p>\r\n                  <p className={style.card__description}>{item.rating}</p>\r\n                  <NavLink\r\n                    style={{ textDecoration: \"none\" }}\r\n                    to={`/book/${item._id}`}\r\n                  >\r\n                    <Button variant=\"contained\" style={{ marginBottom: 10 }}>\r\n                      <ContactsIcon />\r\n                    </Button>\r\n                  </NavLink>\r\n                  {item.rend?.userRend === userId ? (\r\n                    <span className={classes.buttonAdd}>✔</span>\r\n                  ) : item.rend?.userRend ? (\r\n                    <span className={classes.buttonAd}>Х</span>\r\n                  ) : (\r\n                    <Button\r\n                      style={{ marginBottom: 10 }}\r\n                      onClick={()=> handleAddRendBook(item._id)}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      disabled={addingToRend}\r\n                      style={{marginBottom:10, marginLeft:5}}\r\n                    >\r\n                      <AddIcon/>\r\n                    </Button>\r\n\r\n                  )}\r\n                </div>\r\n              </Paper>\r\n            </Box>\r\n          );\r\n        })}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Box, Button, Paper, TextField } from \"@material-ui/core\";\r\nimport { createBook } from '../../redux/features/book'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  modal: {\r\n    background: \"rgba(0,0,0,0.8)\",\r\n    position: \"absolute\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    top: 0,\r\n    left: 0,\r\n    transform: \"scale(0)\",\r\n  },\r\n  \"modal active\": {\r\n    transform: \"scale(1)\",\r\n  },\r\n  card: {\r\n    position: \"absolute\",\r\n    width: 700,\r\n    height: 600,\r\n    marginLeft: \"32%\",\r\n    marginRight: \"32%\",\r\n    marginTop: 50,\r\n    zIndex: 10,\r\n  },\r\n  button: {\r\n    textAlign: \"right\",\r\n    width: \"100%\",\r\n  },\r\n  display: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  buttons: {\r\n    marginTop: 60,\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n  },\r\n}));\r\n\r\nfunction ModalBookCreate({ opened, setOpened }) {\r\n  const classes = useStyle();\r\n  const [name, setName] = useState(\"\");\r\n  const [img, setImg] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\")\r\n  const [description, setDescription] = useState(\"\");\r\n  const dispatch = useDispatch()\r\n\r\n  const clear = () => {\r\n    setName('')\r\n    setImg('')\r\n    setPrice('')\r\n    setDescription('')\r\n  };\r\n  const handleChangeBook = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n  const handleChangeImg = (e) => {\r\n    setImg(e.target.value);\r\n  };\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleChange =()=> {\r\n    dispatch(createBook({name, img, description,price}))\r\n\r\n  }\r\n\r\n  return (\r\n    <div className={opened === true ? classes[\"modal active\"] : classes.modal}>\r\n      <Paper className={classes.card}>\r\n        <Box className={classes.button}>\r\n          <Button color=\"primary\" onClick={() => setOpened(false)}>\r\n            X\r\n          </Button>\r\n        </Box>\r\n\r\n        <Box className={classes.display}>\r\n          <Box style={{ marginTop: 60 }}>\r\n            <Box style={{ marginTop: 20 }}>\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Название книги\"\r\n                variant=\"outlined\"\r\n                onChange={handleChangeBook}\r\n                value={name}\r\n              />\r\n            </Box>\r\n            <Box style={{ marginTop: 20 }}>\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Фото книги\"\r\n                variant=\"outlined\"\r\n                onChange={handleChangeImg}\r\n                value={img}\r\n              />\r\n            </Box>\r\n            <Box style={{ marginTop: 20 }}>\r\n              <TextField\r\n                id=\"outlined-multiline-static\"\r\n                label=\"Описание книги\"\r\n                multiline\r\n                rows={4}\r\n                style={{ width: 500 }}\r\n                variant=\"outlined\"\r\n                onChange={handleChangeDescription}\r\n                value={description}\r\n              />\r\n            </Box>\r\n            <Box style={{ marginTop: 20 }}>\r\n              <TextField\r\n                id=\"outlined-multiline-static\"\r\n                label=\"$ Цена\"\r\n                multiline\r\n                rows={4}\r\n                style={{ width: 500 }}\r\n                variant=\"outlined\"\r\n                onChange={handleChangePrice}\r\n                value={price}\r\n              />\r\n            </Box>\r\n\r\n            <Box className={classes.buttons}>\r\n              <Button variant=\"outlined\" color=\"primary\" onClick={clear}>\r\n                Отмена\r\n              </Button>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleChange}>\r\n                Добавить\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalBookCreate;\r\n","import React, { useState } from \"react\";\r\nimport ModalBookCreate from \"../modal/ModalBookCreate\";\r\nimport { Button, InputBase, Paper } from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"70%\",\r\n    height: \"auto\",\r\n    marginTop: 50,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 1,\r\n  },\r\n}));\r\n\r\nfunction SearchInput({ setMyBooks }) {\r\n  const classes = useStyles();\r\n  const [opened, setOpened] = useState(false);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setMyBooks(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalBookCreate opened={opened} setOpened={setOpened} />\r\n      <Paper component=\"form\" className={classes.root}>\r\n        <IconButton className={classes.iconButton} aria-label=\"menu\">\r\n          <MenuBookIcon />\r\n        </IconButton>\r\n        <InputBase\r\n          className={classes.input}\r\n          placeholder=\"Поиск книг\"\r\n          inputProps={{ \"aria-label\": \"search Books\" }}\r\n          onChange={handleChangeInput}\r\n        />\r\n        <IconButton\r\n          type=\"submit\"\r\n          className={classes.iconButton}\r\n          aria-label=\"search\"\r\n        >\r\n          <SearchIcon />\r\n        </IconButton>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disableElevation\r\n          onClick={() => setOpened(true)}\r\n        >\r\n          <Typography variant=\"h9\" noWrap>\r\n            Добавить новую книгу\r\n          </Typography>\r\n        </Button>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\nexport default SearchInput;\r\n","import React from \"react\";\r\nimport { Button, InputBase, Paper } from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"70%\",\r\n    height: \"auto\",\r\n    marginTop: 50,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 1,\r\n  },\r\n}));\r\n\r\nfunction HomeSearch({setBooks}) {\r\n  const classes = useStyles();\r\n  const handleChangeInput = (e) => {\r\n    setBooks(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Paper component=\"form\" className={classes.root}>\r\n        <IconButton className={classes.iconButton} aria-label=\"menu\">\r\n          <MenuBookIcon />\r\n        </IconButton>\r\n        <InputBase\r\n          className={classes.input}\r\n          placeholder=\"Поиск книг\"\r\n          inputProps={{ \"aria-label\": \"search Books\" }}\r\n          onChange={handleChangeInput}\r\n        />\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disableElevation\r\n        >\r\n          <IconButton\r\n            type=\"submit\"\r\n            className={classes.iconButton}\r\n            aria-label=\"search\"\r\n          >\r\n            <SearchIcon style={{color: 'white'}}/>\r\n          </IconButton>\r\n        </Button>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\nexport default HomeSearch;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ContactsIcon from \"@material-ui/icons/ImportContacts\";\r\nimport Crop54Icon from \"@material-ui/icons/Crop54\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { auth, exit } from \"../redux/features/application\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  display: {\r\n    marginLeft: \"80%\",\r\n  },\r\n}));\r\n\r\nexport default function Layout({ children }) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const dispatch = useDispatch();\r\n  const users = useSelector((state) => state.users.items);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleExit = () => {\r\n    dispatch(exit());\r\n  };\r\n\r\n  if (auth) {\r\n    return (\r\n      <div className={classes.root}>\r\n        <CssBaseline />\r\n        <AppBar\r\n          position=\"fixed\"\r\n          style={{ backgroundColor: \"#4B0082\" }}\r\n          className={clsx(classes.appBar, {\r\n            [classes.appBarShift]: open,\r\n          })}\r\n        >\r\n          <Toolbar>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={handleDrawerOpen}\r\n              edge=\"start\"\r\n              className={clsx(classes.menuButton, open && classes.hide)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" noWrap>\r\n              Демократичная Библиотека\r\n            </Typography>\r\n            <Box className={classes.display}>\r\n              <NavLink to=\"/profile\">\r\n                <Avatar alt=\"Remy Sharp\" src={users?.img} />\r\n              </NavLink>\r\n            </Box>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          anchor=\"left\"\r\n          open={open}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n        >\r\n          <div className={classes.drawerHeader}>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              {theme.direction === \"ltr\" ? (\r\n                <ChevronLeftIcon />\r\n              ) : (\r\n                <ChevronRightIcon />\r\n              )}\r\n            </IconButton>\r\n          </div>\r\n          <Divider />\r\n\r\n          <List>\r\n            <NavLink to=\"/\" style={{ textDecoration: \"none\" }}>\r\n              <ListItem button text=\"text\">\r\n                <ListItemIcon>\r\n                  <Crop54Icon />\r\n                </ListItemIcon>\r\n                <ListItemText style={{color:'#4B0082'}} primary=\"Главная\" />\r\n              </ListItem>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/rentBook\" style={{ textDecoration: \"none\" }}>\r\n              <ListItem button text=\"text\">\r\n                <ListItemIcon>\r\n                  <ContactsIcon />\r\n                </ListItemIcon>\r\n                <ListItemText style={{color:'#4B0082'}} primary=\"Вы читаете\" />\r\n              </ListItem>\r\n            </NavLink>\r\n\r\n            <NavLink to=\"/MyBooks\" style={{ textDecoration: \"none\" }}>\r\n              <ListItem button text=\"text\">\r\n                <ListItemIcon>\r\n                  <ContactsIcon />\r\n                </ListItemIcon>\r\n                <ListItemText style={{color:'#4B0082'}} primary=\"Мои книги\" />\r\n              </ListItem>\r\n            </NavLink>\r\n            <NavLink to=\"/profile\" style={{ textDecoration: \"none\" }}>\r\n              <ListItem button text=\"text\">\r\n                <ListItemIcon>\r\n                  <PersonIcon />\r\n                </ListItemIcon>\r\n                <ListItemText style={{color:'#4B0082'}} primary=\"Профиль\" />\r\n              </ListItem>\r\n            </NavLink>\r\n            <NavLink to=\"/signup\" style={{ textDecoration: \"none\" }}>\r\n              <ListItem button text=\"text\" onClick={handleExit}>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon />\r\n                </ListItemIcon>\r\n                <ListItemText style={{color:'#4B0082'}} primary=\"Выход\" />\r\n              </ListItem>\r\n            </NavLink>\r\n          </List>\r\n\r\n          <Divider />\r\n        </Drawer>\r\n        <main\r\n          className={clsx(classes.content, {\r\n            [classes.contentShift]: open,\r\n          })}\r\n        >\r\n          {children}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { auth } from \"../../redux/features/application\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchBookRend, returningABook } from \"../../redux/features/book\";\r\nimport { Box, Button, CircularProgress, Paper } from '@material-ui/core'\r\nimport style from \"./style.module.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((themes) => ({\r\n  content: {\r\n    width: \"80%\",\r\n    height: \"auto\",\r\n    marginTop: 100,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n}));\r\n\r\nexport function RentedBooks(props) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector((state) => state.books.loading);\r\n  const books = useSelector((state) => state.books.items);\r\n  const users = useSelector((state) => state.users.items);\r\n  useEffect(() => {\r\n    dispatch(fetchBookRend());\r\n  }, [dispatch]);\r\n\r\n  const handleReturningABook = (id) => {\r\n    dispatch(returningABook(id));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ paddingLeft: \"50%\", marginTop: 100 }}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n  if (auth) {\r\n    return (\r\n      <Box className={classes.content}>\r\n        <Box className=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4\">\r\n          {books.map((item) => {\r\n            return (\r\n              <Box className=\"col\" align=\"center\">\r\n                <Paper className={style.card}>\r\n                  <img src={item.img} className={style.card__image} alt=\"\" />\r\n                  <div className={style.card__overlay}>\r\n                    <div className={style.card__header}>\r\n                      <svg\r\n                        className={style.card__arc}\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path />\r\n                      </svg>\r\n                      <img\r\n                        className={style.card__thumb}\r\n                        src={users.img}\r\n                        alt=\"\"\r\n                      />\r\n\r\n                      <h3 className={style.card__title}>{users.login}</h3>\r\n                      <span className={style.card__status}>{item.name}</span>\r\n                    </div>\r\n                    <p className={style.card__description}>\r\n                      {item.description}\r\n                    </p>\r\n                    <Button\r\n                    className={style.card__description}\r\n                    onClick={() => handleReturningABook(item._id)}\r\n                    >\r\n                    Вернуть книгу\r\n                    </Button>\r\n                  </div>\r\n                </Paper>\r\n              </Box>\r\n            );\r\n          })}\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n","const initialState = {\r\n  loading: false,\r\n  items: [],\r\n  error: null,\r\n};\r\nexport default function review(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"get/review/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case \"get/review/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload\r\n      }\r\n    case \"get/review/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      }\r\n    case \"create/review/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case \"create/review/fulfilled\":\r\n      console.log(action)\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [...state.items, action.payload]\r\n      }\r\n    case \"create/review/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const fetchReviews =({id})=> {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"get/review/pending\" })\r\n    try {\r\n      const response = await fetch(`/reviews/${id}`)\r\n      const json = await response.json()\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"get/review/rejected\",\r\n          error: \"При запросе на сервер произошла ошибка\",\r\n        });\r\n      } else {\r\n        dispatch({ type: \"get/review/fulfilled\", payload: json });\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"get/review/rejected\", error: e.toString() })\r\n    }\r\n  }\r\n}\r\n\r\nexport const postReviews =({comment, id})=> {\r\n  return async (dispatch, useState) => {\r\n    const state = useState()\r\n    const text = comment\r\n    dispatch({ type: \"create/review/pending\"})\r\n    try {\r\n      const response = await fetch(`/reviews/${id}`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ text }),\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      })\r\n      const json = await response.json()\r\n      dispatch({ type: \"create/review/fulfilled\", payload: json })\r\n    } catch (e) {\r\n      dispatch({ type: \"create/review/rejected\", error: e.toString() })\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  loading: false,\r\n  items: [],\r\n  error: null\r\n}\r\n\r\nexport default function raiting(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"get/rating/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case \"get/rating/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: action.payload\r\n      }\r\n    case \"get/rating/rejected\":\r\n      return {\r\n        loading: false,\r\n        items: [],\r\n        error: action.error\r\n      }\r\n    case \"create/rating/pending\":\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case \"create/rating/fulfilled\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [...state.items, action.payload]\r\n      }\r\n    case \"create/rating/rejected\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        items: [],\r\n        error: action.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const fetchRatings = ({id})=> {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"get/rating/pending\"})\r\n    try {\r\n      const response = await fetch(`/rating/${id}`)\r\n      const json = await response.json()\r\n      if (json.error) {\r\n        dispatch({\r\n          type: \"get/rating/rejected\",\r\n          error: \"При запросе произошла ошибка\"\r\n        })\r\n      } else {\r\n        dispatch({ type: \"get/rating/fulfilled\", payload: json })\r\n      }\r\n    } catch (e) {\r\n      dispatch({ type: \"get/rating/rejected\", error: e.toString()})\r\n    }\r\n  }\r\n}\r\n\r\nexport const postRatings =({value, id})=> {\r\n  return async (dispatch, useState) => {\r\n    const state = useState()\r\n    const number = value\r\n    dispatch({ type: \"create/rating/pending\"})\r\n    try {\r\n      const response = await fetch(`/rating/${id}`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ number }),\r\n        headers: {\r\n          Authorization: `Bearer ${state.application.token}`,\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      })\r\n      const json = await response.json()\r\n      dispatch({ type: \"create/rating/fulfilled\", payload: json})\r\n    } catch (e) {\r\n      dispatch({ type: \"create/rating/rejected\", error: e.toString() })\r\n    }\r\n  }\r\n}","import React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  sizeImg: {\r\n    width: 300,\r\n  },\r\n  rating: {\r\n    display: \"flex\",\r\n    padding: 5,\r\n  },\r\n}));\r\n\r\nfunction BookCard(props) {\r\n  const classes = useStyle();\r\n  const books = useSelector((state) => state.books.currentItem);\r\n\r\n  const rating = useSelector((state) => {\r\n    const getRatingByBookId = state.rating.items;\r\n    if (getRatingByBookId.length === 0) {\r\n      return 0;\r\n    }\r\n    return (\r\n      getRatingByBookId.reduce((value, item) => {\r\n        if (!item.number) {\r\n          return 0;\r\n        }\r\n        return item.number + value;\r\n      }, 0) / getRatingByBookId.length\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <div className=\"row g-0\">\r\n        <div style={{ width: 300 }}>\r\n          <img src={books.img} className={classes.sizeImg} alt=\"...\" />\r\n          <Box\r\n            component=\"fieldset\"\r\n            mb={0}\r\n            borderColor=\"transparent\"\r\n            className={classes.rating}\r\n          >\r\n            <Typography component=\"legend\">Рейтинг:</Typography>\r\n            <Rating\r\n              name=\"customized-empty\"\r\n              precision={0.5}\r\n              emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\r\n              value={rating}\r\n            />\r\n          </Box>\r\n        </div>\r\n        <div className=\"col-md-6 \">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{books.name}</h5>\r\n            <p className=\"card-text\">\r\n              Описание: {' '}{books.description}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookCard;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Paper } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport { fetchRatings, postRatings } from \"../../../redux/features/rating\";\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams } from \"react-router\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  Button: {\r\n    width: \"100%\",\r\n  },\r\n  ratingValue: {\r\n    marginBottom: 50,\r\n    padding: 3,\r\n    height: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\nfunction BookRating(props) {\r\n  const classes = useStyle();\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleRating = () => {\r\n    dispatch(postRatings({ value, id }));\r\n    // dispatch(fetchRatings({ id }));\r\n    setValue(\"\");\r\n  };\r\n\r\n  const handleChangeRating = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Paper mb={2} borderColor=\"transparent\" className={classes.ratingValue}>\r\n      <Box component=\"fieldset\" mb={0} borderColor=\"transparent\">\r\n        <Typography component=\"legend\">Оцените</Typography>\r\n        <Rating\r\n          name=\"simple-controlled\"\r\n          value={value}\r\n          onChange={handleChangeRating}\r\n        />\r\n      </Box>\r\n      <Box>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.Button}\r\n          onClick={handleRating}\r\n        >\r\n          Добавить\r\n        </Button>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default BookRating;\r\n","import React, { useState } from \"react\";\r\nimport { Button, InputBase, Paper } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { postReviews } from \"../../../redux/features/review\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"1px 2px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"88%\",\r\n    height: \"100%\",\r\n    marginLeft: 15,\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n    width: \"100%\",\r\n  },\r\n  Button: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nfunction BookReviews(props) {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const classes = useStyle();\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const handleComment = () => {\r\n    dispatch(postReviews({ comment, id }));\r\n    setComment(\"\");\r\n  };\r\n\r\n  const handleChangeComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Paper component=\"form\" className={classes.root}>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder=\"Comments\"\r\n        inputProps={{ \"aria-label\": \"search google maps\" }}\r\n        multiline\r\n        rows={1}\r\n        onChange={handleChangeComment}\r\n        value={comment}\r\n      />\r\n      <Box>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.Button}\r\n          onClick={handleComment}\r\n        >\r\n          Добавить\r\n        </Button>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default BookReviews;\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchBookById } from \"../../../redux/features/book\";\r\nimport { auth } from \"../../../redux/features/application\";\r\nimport { Avatar, CircularProgress, Paper } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { fetchReviews } from \"../../../redux/features/review\";\r\nimport { fetchRatings } from \"../../../redux/features/rating\";\r\nimport BookCard from \"./BookCard\";\r\nimport BookRating from \"./BookRating\";\r\nimport BookReviews from \"./BookReviews\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  content: {\r\n    width: \"70%\",\r\n    height: \"auto\",\r\n    marginTop: 100,\r\n    marginLeft: \"15%\",\r\n    marginRight: \"15%\",\r\n  },\r\n  display: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"1px 2px\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  comments: {\r\n    margin: 10,\r\n    borderRadius: 30,\r\n    display: \"flex\",\r\n  },\r\n  avatar: {\r\n    margin: 10,\r\n    borderRadius: 30,\r\n    display: \"flex\",\r\n    width: 100\r\n  },\r\n  text: {\r\n    padding: 10\r\n  }\r\n}));\r\n\r\nfunction Book(props) {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const classes = useStyle();\r\n  const loading = useSelector((state) => state.books.loading);\r\n  const reviews = useSelector((state) => state.review.items);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBookById({ id }));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchReviews({ id }));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRatings({ id }));\r\n  }, [dispatch]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ paddingLeft: \"50%\", marginTop: 100 }}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (auth) {\r\n    return (\r\n      <>\r\n        <div className={classes.content}>\r\n          <BookCard />\r\n          <Box className={classes.display}>\r\n            <BookRating />\r\n            <BookReviews />\r\n          </Box>\r\n          <Box>\r\n            {reviews.map((item) => {\r\n              return (\r\n                <>\r\n                  <Paper className={classes.comments}>\r\n                    <Avatar alt=\"Remy Sharp\" src={item.user.img} />\r\n                    <Box style={{padding: 10}}>{item.user.login}{' '}│</Box>\r\n                    <Box className={classes.text}>{item.text}</Box>\r\n                  </Paper>\r\n                </>\r\n              );\r\n            })}\r\n          </Box>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Book;\r\n","import React, { useState } from \"react\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport SigninPage from \"./AutorizationPages/SigninPage\";\r\nimport SignupPage from \"./AutorizationPages/SignupPage\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Profile from \"./profile/Profile\";\r\nimport MyBooks from \"./pages/MyBooks\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport SearchInput from \"./pages/SearchInput\";\r\nimport HomeSearch from './pages/HomeSearch'\r\nimport Layout from './Layout'\r\nimport { RentedBooks } from './pages/RentedBooks';\r\nimport Book from './pages/BookDirectory/Book'\r\n\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const token = useSelector((state) => state.application.token);\r\n  const [myBooks, setMyBooks] = useState(\"\");\r\n  const [books, setBooks] = useState(\"\");\r\n\r\n  if (!token) {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/signin\">\r\n            <SigninPage />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <SignupPage />\r\n          </Route>\r\n          <Redirect to=\"/signup\" />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Layout>\r\n        <Switch>\r\n          <Route path=\"/profile\">\r\n            <div>\r\n              <Profile />\r\n            </div>\r\n          </Route>\r\n\r\n          <Route path=\"/\" exact>\r\n            <HomeSearch setBooks={setBooks}/>\r\n            <HomePage values={books}/>\r\n          </Route>\r\n\r\n          <Route path=\"/MyBooks\" exact>\r\n            <SearchInput setMyBooks={setMyBooks} />\r\n            <MyBooks myBooks={myBooks} />\r\n          </Route>\r\n\r\n          <Route path=\"/rentBook\" exact>\r\n            <RentedBooks/>\r\n          </Route>\r\n\r\n          <Route path=\"/book/:id\" exact>\r\n            <Book/>\r\n          </Route>\r\n\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </Layout>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport application from \"./features/application\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport books from \"./features/book\";\r\nimport users from \"./features/users\";\r\nimport review from \"./features/review\";\r\nimport rating from \"./features/rating\";\r\n\r\nexport const store = createStore(\r\n  combineReducers({\r\n    application,\r\n    books,\r\n    users,\r\n    rating,\r\n    review,\r\n  }),\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\r\nimport App from \"./components/App\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/configureStore\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nrender(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <div\r\n\r\n        >\r\n          <App />\r\n        </div>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"style_cards__PE_Oh\",\"card\":\"style_card__2Tfge\",\"card__image\":\"style_card__image__9K-B8\",\"card__overlay\":\"style_card__overlay__ajTms\",\"card__header\":\"style_card__header__2CQMx\",\"card__arc\":\"style_card__arc__2yCIW\",\"card__thumb\":\"style_card__thumb__25kqn\",\"card__title\":\"style_card__title__kArAK\",\"card__tagline\":\"style_card__tagline__3FQjh\",\"card__status\":\"style_card__status__3Nx9-\",\"card__description\":\"style_card__description__SoGRF\"};"],"sourceRoot":""}